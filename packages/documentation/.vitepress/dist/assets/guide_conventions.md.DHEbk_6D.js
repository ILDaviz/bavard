import{_ as i,c as a,o as t,a2 as e}from"./chunks/framework.CcZKt1Zf.js";const c=JSON.parse('{"title":"Convention Over Configuration","description":"","frontmatter":{},"headers":[],"relativePath":"guide/conventions.md","filePath":"guide/conventions.md","lastUpdated":1766537667000}'),n={name:"guide/conventions.md"};function l(h,s,d,p,o,r){return t(),a("div",null,[...s[0]||(s[0]=[e(`<h1 id="convention-over-configuration" tabindex="-1">Convention Over Configuration <a class="header-anchor" href="#convention-over-configuration" aria-label="Permalink to &quot;Convention Over Configuration&quot;">​</a></h1><p>Bavard follows the <strong>Convention over Configuration</strong> paradigm, popularized by Ruby on Rails. The idea is simple: by following sensible defaults and naming conventions, you can eliminate boilerplate configuration and focus on what makes your application unique.</p><h2 id="naming-conventions" tabindex="-1">Naming Conventions <a class="header-anchor" href="#naming-conventions" aria-label="Permalink to &quot;Naming Conventions&quot;">​</a></h2><h3 id="table-names" tabindex="-1">Table Names <a class="header-anchor" href="#table-names" aria-label="Permalink to &quot;Table Names&quot;">​</a></h3><p>By default, Bavard expects table names to be <strong>plural</strong> and <strong>snake_case</strong>:</p><table tabindex="0"><thead><tr><th>Model Class</th><th>Expected Table</th></tr></thead><tbody><tr><td><code>User</code></td><td><code>users</code></td></tr><tr><td><code>BlogPost</code></td><td><code>blog_posts</code></td></tr><tr><td><code>Category</code></td><td><code>categories</code></td></tr><tr><td><code>UserRole</code></td><td><code>user_roles</code></td></tr></tbody></table><div class="language-dart vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">dart</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> User</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Model</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  @override</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> table </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;users&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Convention: plural, snake_case</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="primary-keys" tabindex="-1">Primary Keys <a class="header-anchor" href="#primary-keys" aria-label="Permalink to &quot;Primary Keys&quot;">​</a></h3><p>The default primary key is assumed to be <code>id</code>:</p><div class="language-dart vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">dart</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> User</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Model</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  @override</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> primaryKey </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;id&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// This is the default, no need to specify</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>If your table uses a different primary key, override it:</p><div class="language-dart vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">dart</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> User</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Model</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  @override</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> primaryKey </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;uuid&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Custom primary key</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="foreign-keys" tabindex="-1">Foreign Keys <a class="header-anchor" href="#foreign-keys" aria-label="Permalink to &quot;Foreign Keys&quot;">​</a></h3><p>Foreign keys follow the pattern <code>{singular_table_name}_id</code>:</p><table tabindex="0"><thead><tr><th>Relationship</th><th>Expected Foreign Key</th></tr></thead><tbody><tr><td>Post belongs to User</td><td><code>user_id</code> on <code>posts</code> table</td></tr><tr><td>Comment belongs to Post</td><td><code>post_id</code> on <code>comments</code> table</td></tr><tr><td>Profile belongs to User</td><td><code>user_id</code> on <code>profiles</code> table</td></tr></tbody></table><div class="language-dart vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">dart</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Bavard infers foreign key as &#39;user_id&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Post</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Model</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  BelongsTo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">author</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> belongsTo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Equivalent to: belongsTo(User.new, foreignKey: &#39;user_id&#39;, ownerKey: &#39;id&#39;)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="pivot-tables-many-to-many" tabindex="-1">Pivot Tables (Many-to-Many) <a class="header-anchor" href="#pivot-tables-many-to-many" aria-label="Permalink to &quot;Pivot Tables (Many-to-Many)&quot;">​</a></h3><p>For many-to-many relationships, pivot tables should be named by joining the two table names in <strong>alphabetical order</strong>, separated by an underscore:</p><table tabindex="0"><thead><tr><th>Models</th><th>Expected Pivot Table</th></tr></thead><tbody><tr><td>User ↔ Role</td><td><code>role_user</code></td></tr><tr><td>Post ↔ Tag</td><td><code>post_tag</code></td></tr><tr><td>Category ↔ Product</td><td><code>category_product</code></td></tr></tbody></table><p>Pivot table columns follow the foreign key convention:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>role_user</span></span>
<span class="line"><span>├── user_id</span></span>
<span class="line"><span>└── role_id</span></span></code></pre></div><h3 id="polymorphic-relationships" tabindex="-1">Polymorphic Relationships <a class="header-anchor" href="#polymorphic-relationships" aria-label="Permalink to &quot;Polymorphic Relationships&quot;">​</a></h3><p>Polymorphic relationships use a <code>{name}_type</code> and <code>{name}_id</code> column pair:</p><table tabindex="0"><thead><tr><th>Morphable Name</th><th>Type Column</th><th>ID Column</th></tr></thead><tbody><tr><td><code>commentable</code></td><td><code>commentable_type</code></td><td><code>commentable_id</code></td></tr><tr><td><code>taggable</code></td><td><code>taggable_type</code></td><td><code>taggable_id</code></td></tr></tbody></table><p>The <code>type</code> column stores the table name of the parent model.</p><h3 id="timestamps" tabindex="-1">Timestamps <a class="header-anchor" href="#timestamps" aria-label="Permalink to &quot;Timestamps&quot;">​</a></h3><p>When using <code>HasTimestamps</code>, Bavard expects these columns:</p><table tabindex="0"><thead><tr><th>Column</th><th>Purpose</th></tr></thead><tbody><tr><td><code>created_at</code></td><td>Set when record is first created</td></tr><tr><td><code>updated_at</code></td><td>Updated on every save</td></tr></tbody></table><h3 id="soft-deletes" tabindex="-1">Soft Deletes <a class="header-anchor" href="#soft-deletes" aria-label="Permalink to &quot;Soft Deletes&quot;">​</a></h3><p>When using <code>HasSoftDeletes</code>, Bavard expects:</p><table tabindex="0"><thead><tr><th>Column</th><th>Purpose</th></tr></thead><tbody><tr><td><code>deleted_at</code></td><td>Timestamp when record was soft-deleted (null if active)</td></tr></tbody></table><h2 id="overriding-conventions" tabindex="-1">Overriding Conventions <a class="header-anchor" href="#overriding-conventions" aria-label="Permalink to &quot;Overriding Conventions&quot;">​</a></h2><p>Every convention can be overridden when your schema doesn&#39;t match:</p><div class="language-dart vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">dart</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Post</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Model</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  @override</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> table </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;blog_entries&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Non-standard table name</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  @override</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> primaryKey </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;entry_id&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Non-standard primary key</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Non-standard foreign key</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  BelongsTo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">author</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> belongsTo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    foreignKey</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;author_uuid&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ownerKey</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;uuid&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div>`,34)])])}const g=i(n,[["render",l]]);export{c as __pageData,g as default};
