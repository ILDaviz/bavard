import{_ as e,c as a,o as l,a2 as d}from"./chunks/framework.CcZKt1Zf.js";const h=JSON.parse('{"title":"API Reference","description":"","frontmatter":{},"headers":[],"relativePath":"api/index.md","filePath":"api/index.md","lastUpdated":1766835989000}'),o={name:"api/index.md"};function n(i,t,s,r,c,y){return l(),a("div",null,[...t[0]||(t[0]=[d('<h1 id="api-reference" tabindex="-1">API Reference <a class="header-anchor" href="#api-reference" aria-label="Permalink to &quot;API Reference&quot;">​</a></h1><p>This section serves as a high-level reference for the public API exported by Bavard. For detailed usage instructions and examples, please refer to the <a href="./../guide/">Guide</a>.</p><h2 id="core-components" tabindex="-1">Core Components <a class="header-anchor" href="#core-components" aria-label="Permalink to &quot;Core Components&quot;">​</a></h2><p>The foundational classes that power the ORM.</p><table tabindex="0"><thead><tr><th style="text-align:left;">Class</th><th style="text-align:left;">Description</th><th style="text-align:left;">Documentation</th></tr></thead><tbody><tr><td style="text-align:left;"><code>Model</code></td><td style="text-align:left;">The abstract base class for all your entities. Handles hydration, dirty checking, and persistence.</td><td style="text-align:left;"><a href="./../guide/models">Creating Models</a></td></tr><tr><td style="text-align:left;"><code>QueryBuilder&lt;T&gt;</code></td><td style="text-align:left;">Fluent interface for constructing SQL queries safely. Returned by <code>User().query()</code>.</td><td style="text-align:left;"><a href="./../core/query-builder">Query Builder</a></td></tr><tr><td style="text-align:left;"><code>DatabaseManager</code></td><td style="text-align:left;">Singleton service locator for managing the active database connection and transactions.</td><td style="text-align:left;"><a href="./../guide/setup">Initial Setup</a></td></tr><tr><td style="text-align:left;"><code>DatabaseAdapter</code></td><td style="text-align:left;">Interface that must be implemented to connect Bavard to a specific database driver (SQLite, Postgres, etc.).</td><td style="text-align:left;"><a href="./../reference/adapters">Adapter</a></td></tr><tr><td style="text-align:left;"><code>Grammar</code></td><td style="text-align:left;">Strategy pattern interface for dialect-specific SQL generation (e.g., SQLite vs Postgres).</td><td style="text-align:left;"><a href="./../reference/adapters">Adapters</a></td></tr><tr><td style="text-align:left;"><code>Pivot</code></td><td style="text-align:left;">Specialized Model for intermediate tables in Many-to-Many relationships.</td><td style="text-align:left;"><a href="./../relationships/">Relationships</a></td></tr></tbody></table><h2 id="schema-definition" tabindex="-1">Schema Definition <a class="header-anchor" href="#schema-definition" aria-label="Permalink to &quot;Schema Definition&quot;">​</a></h2><p>Classes used inside the <code>static const schema</code> Record to define type-safe columns.</p><table tabindex="0"><thead><tr><th style="text-align:left;">Column Class</th><th style="text-align:left;">Maps to Dart Type</th><th style="text-align:left;">SQL Equivalent</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>TextColumn</code></td><td style="text-align:left;"><code>String</code></td><td style="text-align:left;"><code>TEXT</code> / <code>VARCHAR</code></td><td style="text-align:left;">Supports <code>contains</code>, <code>startsWith</code>, <code>endsWith</code>.</td></tr><tr><td style="text-align:left;"><code>IntColumn</code></td><td style="text-align:left;"><code>int</code></td><td style="text-align:left;"><code>INTEGER</code></td><td style="text-align:left;">Supports numeric comparisons (<code>&gt;</code>, <code>&lt;</code>, etc.).</td></tr><tr><td style="text-align:left;"><code>DoubleColumn</code></td><td style="text-align:left;"><code>double</code></td><td style="text-align:left;"><code>REAL</code> / <code>DOUBLE</code></td><td style="text-align:left;">Supports numeric comparisons.</td></tr><tr><td style="text-align:left;"><code>BoolColumn</code></td><td style="text-align:left;"><code>bool</code></td><td style="text-align:left;"><code>INTEGER</code> (0/1)</td><td style="text-align:left;">Stores boolean values as integers for compatibility.</td></tr><tr><td style="text-align:left;"><code>DateTimeColumn</code></td><td style="text-align:left;"><code>DateTime</code></td><td style="text-align:left;"><code>TEXT</code> (ISO-8601)</td><td style="text-align:left;">Stores dates as standardized strings.</td></tr><tr><td style="text-align:left;"><code>JsonColumn</code></td><td style="text-align:left;"><code>dynamic</code></td><td style="text-align:left;"><code>TEXT</code> (JSON)</td><td style="text-align:left;">Stores Maps/Lists. Enables <a href="./../core/schema-columns#jsoncolumn-jsonpathcolumn">JsonPath</a> querying.</td></tr><tr><td style="text-align:left;"><code>EnumColumn&lt;T&gt;</code></td><td style="text-align:left;"><code>Enum</code></td><td style="text-align:left;"><code>TEXT</code></td><td style="text-align:left;">Stores the <code>name</code> of the Enum.</td></tr></tbody></table><h2 id="relationships" tabindex="-1">Relationships <a class="header-anchor" href="#relationships" aria-label="Permalink to &quot;Relationships&quot;">​</a></h2><p>Classes representing the associations between models.</p><h3 id="standard-relations" tabindex="-1">Standard Relations <a class="header-anchor" href="#standard-relations" aria-label="Permalink to &quot;Standard Relations&quot;">​</a></h3><table tabindex="0"><thead><tr><th style="text-align:left;">Relation</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>HasOne&lt;R&gt;</code></td><td style="text-align:left;">1:1</td><td style="text-align:left;">The foreign key is on the <strong>related</strong> table.</td></tr><tr><td style="text-align:left;"><code>HasMany&lt;R&gt;</code></td><td style="text-align:left;">1:N</td><td style="text-align:left;">The foreign key is on the <strong>related</strong> table.</td></tr><tr><td style="text-align:left;"><code>BelongsTo&lt;R&gt;</code></td><td style="text-align:left;">1:1 / N:1</td><td style="text-align:left;">The foreign key is on the <strong>current</strong> table.</td></tr><tr><td style="text-align:left;"><code>BelongsToMany&lt;R&gt;</code></td><td style="text-align:left;">N:N</td><td style="text-align:left;">Uses an intermediate <strong>pivot table</strong>.</td></tr><tr><td style="text-align:left;"><code>HasManyThrough&lt;R, I&gt;</code></td><td style="text-align:left;">Distant 1:N</td><td style="text-align:left;">Access a related model via an <strong>intermediate</strong> model.</td></tr></tbody></table><h3 id="polymorphic-relations" tabindex="-1">Polymorphic Relations <a class="header-anchor" href="#polymorphic-relations" aria-label="Permalink to &quot;Polymorphic Relations&quot;">​</a></h3><table tabindex="0"><thead><tr><th style="text-align:left;">Relation</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>MorphTo&lt;T&gt;</code></td><td style="text-align:left;">The &quot;child&quot; side. Stores <code>_id</code> and <code>_type</code>. Can belong to multiple parent types.</td></tr><tr><td style="text-align:left;"><code>MorphOne&lt;R&gt;</code></td><td style="text-align:left;">A parent has one polymorphic child (e.g., a Post has one Image).</td></tr><tr><td style="text-align:left;"><code>MorphMany&lt;R&gt;</code></td><td style="text-align:left;">A parent has many polymorphic children (e.g., a Video has many Comments).</td></tr><tr><td style="text-align:left;"><code>MorphToMany&lt;R&gt;</code></td><td style="text-align:left;">Many-to-Many via a polymorphic pivot table (e.g., Tags on Posts and Videos).</td></tr></tbody></table><h2 id="mixins-concerns" tabindex="-1">Mixins (Concerns) <a class="header-anchor" href="#mixins-concerns" aria-label="Permalink to &quot;Mixins (Concerns)&quot;">​</a></h2><p>Traits that compose the <code>Model</code> behavior.</p><h3 id="core-mixins-included-by-default" tabindex="-1">Core Mixins (Included by Default) <a class="header-anchor" href="#core-mixins-included-by-default" aria-label="Permalink to &quot;Core Mixins (Included by Default)&quot;">​</a></h3><p>These are automatically mixed into <code>Model</code> and are always available.</p><table tabindex="0"><thead><tr><th style="text-align:left;">Mixin</th><th style="text-align:left;">Functionality</th></tr></thead><tbody><tr><td style="text-align:left;"><code>HasCasts</code></td><td style="text-align:left;">Handles type conversion (hydration/dehydration) of attributes based on <code>columns</code> or <code>casts</code>.</td></tr><tr><td style="text-align:left;"><code>HasEvents</code></td><td style="text-align:left;">Provides lifecycle hooks (<code>onSaving</code>, <code>onDeleted</code>, etc.).</td></tr><tr><td style="text-align:left;"><code>HasRelationships</code></td><td style="text-align:left;">Manages relation definitions and lazy/eager loading.</td></tr><tr><td style="text-align:left;"><code>HasAttributeHelpers</code></td><td style="text-align:left;">Adds typed accessors like <code>model.string(&#39;name&#39;)</code> or bracket notation <code>model[&#39;name&#39;]</code>.</td></tr><tr><td style="text-align:left;"><code>HasGuardsAttributes</code></td><td style="text-align:left;">Manages mass-assignment protection (<code>fillable</code>, <code>guarded</code>).</td></tr></tbody></table><h3 id="optional-mixins" tabindex="-1">Optional Mixins <a class="header-anchor" href="#optional-mixins" aria-label="Permalink to &quot;Optional Mixins&quot;">​</a></h3><p>Add these to your specific models to enable enhanced features.</p><table tabindex="0"><thead><tr><th style="text-align:left;">Mixin</th><th style="text-align:left;">Functionality</th></tr></thead><tbody><tr><td style="text-align:left;"><code>HasTimestamps</code></td><td style="text-align:left;">Automatically manages <code>created_at</code> and <code>updated_at</code>.</td></tr><tr><td style="text-align:left;"><code>HasSoftDeletes</code></td><td style="text-align:left;">Enables &quot;trash&quot; functionality. Records are marked as deleted (via <code>deleted_at</code>) instead of removed.</td></tr><tr><td style="text-align:left;"><code>HasUuids</code></td><td style="text-align:left;">Automatically generates UUID v4 strings for the primary key (client-side generation).</td></tr><tr><td style="text-align:left;"><code>HasGlobalScopes</code></td><td style="text-align:left;">Allows registering queries that apply to every fetch operation (e.g., Multi-Tenancy).</td></tr></tbody></table><h2 id="exceptions" tabindex="-1">Exceptions <a class="header-anchor" href="#exceptions" aria-label="Permalink to &quot;Exceptions&quot;">​</a></h2><p>Exceptions thrown by the framework that you should handle.</p><table tabindex="0"><thead><tr><th style="text-align:left;">Exception</th><th style="text-align:left;">Cause</th></tr></thead><tbody><tr><td style="text-align:left;"><code>ModelNotFoundException</code></td><td style="text-align:left;">Thrown by <code>findOrFail()</code> or <code>firstOrFail()</code> when no result is found.</td></tr><tr><td style="text-align:left;"><code>QueryException</code></td><td style="text-align:left;">Thrown when a raw SQL error occurs (syntax error, constraint violation).</td></tr><tr><td style="text-align:left;"><code>TransactionException</code></td><td style="text-align:left;">Thrown when a transaction fails or is explicitly rolled back.</td></tr><tr><td style="text-align:left;"><code>InvalidQueryException</code></td><td style="text-align:left;">Thrown when the QueryBuilder detects unsafe or malformed input.</td></tr><tr><td style="text-align:left;"><code>DatabaseNotInitializedException</code></td><td style="text-align:left;">Thrown if you try to use a Model before calling <code>setDatabase()</code>.</td></tr></tbody></table><h2 id="annotations-tooling" tabindex="-1">Annotations &amp; Tooling <a class="header-anchor" href="#annotations-tooling" aria-label="Permalink to &quot;Annotations &amp; Tooling&quot;">​</a></h2><table tabindex="0"><thead><tr><th style="text-align:left;">Symbol</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>@fillable</code></td><td style="text-align:left;">Annotation to mark a class for <a href="./../tooling/code-generation">Code Generation</a>.</td></tr><tr><td style="text-align:left;"><code>@bavardPivot</code></td><td style="text-align:left;">Annotation to mark a Pivot class for code generation.</td></tr><tr><td style="text-align:left;"><code>MockDatabaseSpy</code></td><td style="text-align:left;">A test utility to spy on generated SQL and mock results. Supports normalized keys for flexible assertions.</td></tr></tbody></table>',27)])])}const g=e(o,[["render",n]]);export{h as __pageData,g as default};
